{% extends "statsbase.html" %}

{% block title %}İstatistik | istatistik.ligtv.com.tr{% endblock %}

{% block head-addition %}
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load("visualization", "1", {packages:["corechart"]});
        google.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Hafta', 'Siralama' ],
                {% for x in s_list %}
                    [ {{ forloop.counter }}, {{ x }}],
                {% endfor %}

            ]);

            var options = {
                title: 'Performans Grafigi',
                vAxis: {
                    maxValue: 18,
                    minValue: 1,
                    textStyle: {
                        color: 'black'
                    },
                    direction: -1,
                    gridlines: {
                        count: 18
                    },
                    baselineColor : 'black'
                },
                hAxis: {
                    baselineColor : 'black',
                    textStyle: {
                        color: 'black'
                    },
                    gridlines: {
                        count: 34
                    }
                },
                backgroundColor: '#b7b7b7',
                chartArea: {
                    left:20,
                    top:20,
                    width:"95%",
                    height:"80%"
                },
                legend: {
                    position: 'none'
                },
                titlePosition: 'none',
                axisTitlesPosition: 'none'

            };

            var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
            chart.draw(data, options);
        }
    </script>

    <script>
        function changeContent(num){
            htmltoSet = "";
            if(num == 1){
                htmltoSet = "<p style='width: 3%;float: left'></p><a> <button onclick='changeContent(3)'>Takım Özeti</button> </a><div class='active'><a> <button onclick='changeContent(1)'>Fikstür</button> </a></div><a> <button onclick='changeContent(2)'>Kadro Analizi</button> </a>"
            }
            else if(num==2){
                htmltoSet = "<p style='width: 3%;float: left'></p><a> <button onclick='changeContent(3)'>Takım Özeti</button> </a><a> <button onclick='changeContent(1)'>Fikstür</button> </a><div class='active'><a> <button onclick='changeContent(2)'>Kadro Analizi</button> </a></div>"
            }
            else if(num==3){
                htmltoSet = "<p style='width: 3%;float: left'></p><div class='active'><a> <button onclick='changeContent(3)'>Takım Özeti</button> </a></div><a> <button onclick='changeContent(1)'>Fikstür</button> </a><a> <button onclick='changeContent(2)'>Kadro Analizi</button> </a>"
            }
            $("#menu").html(htmltoSet);
        }
    </script>
    <script type="text/javascript">
        function handleSelect(elm)
        {
            var htmltoSet = "";
            if (elm.value == 1)
            {
                {% for i in player_list|dictsortreversed:"match" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.match }}</p></a>";
                {% endfor %}
            }
            else if (elm.value == 2)
            {
                {% for i in player_list|dictsortreversed:"min" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.min }}</p></a>";
                {% endfor %}
            }
            else if (elm.value == 3)
            {
                {% for i in player_list|dictsortreversed:"goal" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.goal }}</p></a>";
                {% endfor %}
            }
            else if (elm.value == 4)
            {
                {% for i in player_list|dictsortreversed:"assist" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.assist }}</p></a>";
                {% endfor %}
            }
            else if (elm.value == 5)
            {
                {% for i in player_list|dictsortreversed:"yellow" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.yellow }}</p></a>";
                {% endfor %}
            }
            else if (elm.value == 6)
            {
                {% for i in player_list|dictsortreversed:"red" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.red }}</p></a>";
                {% endfor %}
            }
            else if (elm.value == 7)
            {
                {% for i in player_list|dictsortreversed:"run" %}
                    htmltoSet += "<a  href='../../player/{{ team_selected }}/{{ i.id }}'> <img style='float: left; width: 10%; margin-top: 3px' src='{{ STATIC_URL }}images/player{{ i.id }}.png'> <p style='float: left;margin-left: 10px;line-height: 30px;font-size: 12px'>{{ i.jersey }} - {{ i.name }}</p> <p style='font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center'>{{ i.run }}</p></a>";
                {% endfor %}
            }

            $("#player").html(htmltoSet);
        }
    </script>

{% endblock %}

{% block team-menu %}
    <div class="team-menu">
        <p style="width: 1.4%;float: left"></p>
        {% for i in team_list %}
            {% if i == team_selected %}
                <div class="active">
                    <a  href="../{{ i }}"> <img src="{{ STATIC_URL }}images/logo{{ i }}.png"></a>
                </div>

            {% else %}
                <a  href="../{{ i }}"> <img src="{{ STATIC_URL }}images/logo{{ i }}.png"></a>
            {% endif %}
        {% endfor %}
    </div>
{% endblock %}

{% block menu-header %}

    <ul id="nav">
        <li>
            <a href="../../">Ana Sayfa</a>
        </li>
        <li><a class="active"  href="../">Takımlar</a>

        </li>
        <li>
            <a href="../../player">Oyuncular</a>
        </li>
        <li>
            <a href="">Karşılaştır!</a>
            <ul>
                <li><a href="#">Takım</a></li>
                <li><a href="#">Oyuncu</a></li>
            </ul>
        </li>
    </ul>

{% endblock %}


{% block content %}
    <div class="line-menu" id="menu" style="margin-bottom: 5px">
        <p style="width: 3%;float: left"></p>
        <div class="active">
            <a> <button onclick="changeContent(3)">Takım Özeti</button> </a>
        </div>
        <a> <button onclick="changeContent(1)">Fikstür</button> </a>
        <a> <button onclick="changeContent(2)">Kadro Analizi</button> </a>
    </div>
    <div class="insideleft">
        <div class="infobox">
            {% for i in standing_list %}
                {% if i.teamId == team_selected %}
                    <h1>{{ i.teamName }}</h1>
                {% endif %}
            {% endfor %}
            <img src="{{ STATIC_URL }}images/logo{{ team_selected }}.png">
            <p class="first">Kuruluş Yılı</p>
            <p class="second">MÖ 441</p>
            <p class="first">Stadyum</p>
            <p class="second">Sentio Arena</p>
            <p class="first">Stadyum Kapasitesi</p>
            <p class="second">72000</p>
            <p class="first">Başkan</p>
            <p class="second">Bülent Başgan</p>
            <p class="first">Teknik Direktör</p>
            <p class="second">Serhat Kurtuluş</p>
            <p class="first">Websitesi</p>
            <p class="second"><a href="#">sentio.com</a></p>
            <p class="first">Şampiyonluk Sayısı</p>
            <p class="second">23</p>
            <p class="first">Kupa Sayısı</p>
            <p class="second">13</p>
            <h1>Karşılaştır!</h1>
            <select style="width: 60%;margin-left:5%;float: left">
                <option class="item"> <a>Takım Seçiniz</a> </option>
                {% for i in standing_list %}
                    <option class="item"> <a>{{ i.teamName }}</a> </option>
                {% endfor %}
            </select>
            <button style="float: left;width: 30%;font-size: 12px;padding-left: 2px;">Karşılaştır</button>
        </div>
        <div class="infobox" style="margin-top: 5px">
            <div class="player-header">
                <h1>Takım Kadrosu</h1>
                <select class="player-filter" onchange="javascript:handleSelect(this)">
                    <option class="item" style="float: right" value="1"> <a>Maç Sayısı</a> </option>
                    <option class="item" value="2"> <a>Dakika</a> </option>
                    <option class="item" value="3"> <a>Gol</a> </option>
                    <option class="item" value="4"> <a>Asist</a> </option>
                    <option class="item" value="5"> <a>Sarı Kart</a> </option>
                    <option class="item" value="6"> <a>Kırmızı Kart</a> </option>
                    <option class="item" value="7"> <a>Koşu</a> </option>
                </select>
            </div>

            <div class="player" id="player">
                {% for i in player_list|dictsortreversed:"match" %}
                    <a  href="../../player/{{ team_selected }}/{{ i.id }}"> <img style="float: left; width: 10%; margin-top: 3px;margin-left: 3px" src="{{ STATIC_URL }}images/player{{ i.id }}.png"> <p style="float: left;margin-left: 10px;line-height: 30px;font-size: 12px">{{ i.jersey }} - {{ i.name }}</p> <p style="font-size: 12px;float: right;line-height:30px;width: 30px; padding-right: 10px; text-align: center">{{ i.match }}</p></a>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class="insideright">


        <div class="infobox" style="margin-left: 1%;width: 98%; margin-bottom: 5px">
            <h1>Lig Pozisyonu</h1>
            <div id="chart_div" style="width: 98%; height: 300px;margin: 1%;"></div>
        </div>
        <div class="infobox" style="margin-left: 1%;width: 98%; margin-bottom: 5px">
            <h1>Son 5 Maç</h1>
            <div class="form">
                <p class="win">G</p>
                <p class="seperator">-</p>
                <p class="draw">B</p>
                <p class="seperator">-</p>
                <p class="lose">M</p>
                <p class="seperator">-</p>
                <p class="win">G</p>
                <p class="seperator">-</p>
                <p class="win">G</p>
            </div>

        </div>
        <div class="infobox" style="margin-left: 1%;width: 98%; margin-bottom: 5px">
            <h1>Takım Karşılaştırması</h1>
            <table class="hovertable" style="width: 98%;margin: 1%">
                <tr>
                    <th class="first" style="width: 16%"> </th><th style="width: 14%">Sıralama</th><th style="width: 14%">Lig Ortalaması</th><th style="width: 20%">En İyi Takım</th><th class="last" style="width: 20%">En Kötü Takım</th>
                </tr>

                <tr >
                    <td>Gol</td><td> 3. (25 Gol)</td><td>22.4 Gol</td><td>Galatasaray(36 Gol)</td><td>SB Elazığspor(14 Gol)</td>
                </tr>
                <tr >
                    <td>Yenilen Gol</td><td> 6. (18 Gol)</td><td>22.4 Gol</td><td>Galatasaray(12 Gol)</td><td>SB Elazığspor(38 Gol)</td>
                </tr>
                <tr >
                    <td>Takım Yaşı</td><td  > 5. (24.4)</td><td>25.6</td><td>Beşiktaş(22.11)</td><td>Gaziantepspor(28.19)</td>
                </tr>
                <tr>
                    <td>Milli olma</td><td  > 2. (10.5)</td><td>4.4</td><td>Fenerbahçe(10.7)</td><td>Akhisar Bel(1.2)</td>
                </tr>
                <tr>
                    <td>Milli Gol</td><td > 12. (1.1 Gol)</td><td>1.2 Gol</td><td>Galatasaray(2.3 Gol)</td><td>SB Elazığspor(0 Gol)</td>
                </tr>
                <tr >
                    <td>Şut</td><td > 8. (4.4)</td><td>3.7</td><td>Galatasaray(5.2)</td><td>SB Elazığspor(1.3)</td>
                </tr>
                <tr>
                    <td>Şut Yüzdesi</td><td > 17. (%22)</td><td>%35</td><td>Galatasaray(%64)</td><td>SB Elazığspor(%20)</td>
                </tr>
                <tr >
                    <td>Pas</td><td > 6. (252)</td><td>221</td><td>Galatasaray(298)</td><td>SB Elazığspor(179)</td>
                </tr>
                <tr >
                    <td>Pas Yüzdesi</td><td> 5. (%72)</td><td>%64</td><td>Galatasaray(%81)</td><td>SB Elazığspor(%52)</td>
                </tr>
                <tr >
                    <td>Orta</td><td> 9. (6.4)</td><td>6.3</td><td>Galatasaray(9.2)</td><td>SB Elazığspor(3.1)</td>
                </tr>
                <tr >
                    <td>Orta Yüzdesi</td><td> 14. (%25)</td><td>%30</td><td>Galatasaray(%41)</td><td>SB Elazığspor(%20)</td>
                </tr>
                <tr>
                    <td>Takım Faulü</td><td> 4. (12.4)</td><td>8.9</td><td>Galatasaray(14.6)</td><td>SB Elazığspor(7.4)</td>
                </tr>
                <tr>
                    <td>Yapılan Faul</td><td> 10. (8.5)</td><td>8.9</td><td>Galatasaray(11.1)</td><td>SB Elazığspor(4.5)</td>
                </tr>
                <tr>
                    <td>Penaltı</td><td> 4. (6)</td><td>4.3</td><td>Galatasaray(8)</td><td>SB Elazığspor(1)</td>
                </tr>
                <tr>
                    <td>Yapılan Penaltı</td><td> 10. (3)</td><td>4.3</td><td>Galatasaray(11.1)</td><td>SB Elazığspor(4.5)</td>
                </tr>

            </table>
        </div>
    </div>








{% endblock %}

{% block sidebar %}
    <div id="content" style="min-height: 600px">
        <div style="width: 100%;height: 35px">
            <select class="topmenuoption">
                {% for i in weeklist %}
                    <option class="item"> <a>{{ i }}. Hafta</a> </option>
                {% endfor %}
            </select>
            <select class="topmenuoption">
                <option class="item" style="float: right"> <a>Gol</a> </option>
                <option class="item"> <a>Yenilen Gol</a> </option>
                <option class="item"> <a>Averaj</a> </option>
                <option class="item"> <a>Koşu Mesafesi</a> </option>
                <option class="item"> <a>Pas Yüzdesi</a> </option>
                <option class="item"> <a>Şut Yüzdesi</a> </option>
                <option class="item"> <a>Orta Yüzdesi</a> </option>
                <option class="item"> <a>Korner</a> </option>
                <option class="item"> <a>Faul</a> </option>
                <option class="item"> <a>Yapılan Faul</a> </option>
                <option class="item"> <a>Sarı Kart</a> </option>
                <option class="item"> <a>Kırmızı Kart</a> </option>
            </select>
        </div>

        <div class="teamcomparison">
            {% for i in standing_list|dictsortreversed:"score" %}
                <div class="teamitem">
                    <img alt="{{ i.teamName }}" title="{{ i.teamName }}" src="{{ STATIC_URL }}images/logo{{ i.teamId }}.png">
                    <p style="width: {{ i.score}}%">{{ i.score }}</p>
                    <div class="placeholder"></div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}


