{% extends "virtual_stadium_base.html" %}

{% block head-addition %}
    <script src="{{ STATIC_URL }}/js/radar.js" type="text/javascript"></script>
    <!--<script src="{{ STATIC_URL }}/js/timeline.js" type="text/javascript"></script>-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/0.9.10/socket.io.min.js"></script>

    <script type="text/javascript">
        $(function(){
            var radar = new Radar(11730074);
            $("#startMatch").click(function(){
                radar.startMatch();
            });    
        });
    </script>

    <style type="text/css">
        #radarContainer > * {
            margin-left: 50px;
        }
    </style>
{% endblock %}

{% block menu %}
    <div id="navbar">
        <div id="nav">


            <a href="../before">MAÇ ÖNCESİ</a>


            <div id="active">
                <a href="../center">STADYUM</a>
            </div>
            <a href="../table">MAÇ TAHTASI</a>

        </div>
    </div>
{% endblock %}

{% block content %}
    <div class="row">
        <div id="radarContainer">
            <p><button class="btn" id="startMatch">Maci Baslat</button></p>
            <div id="timeDisplay"></div>
        </div>
    </div>
    <div class="row">
        <canvas id="slider" style=""></canvas>
    </div>

    <div style="background-color: #2a2a28; width: 100%;float: left;line-height: 50px;text-align: center;margin-top: 2px">
        <div id="navbar">
            <div id="nav">

                <div id="active">
                    <a href="#" style="width: 22%">OLAYLAR</a>
                </div>
                <a href="#" style="width: 22%">ANLATIM</a>

                <a href="#" style="width: 22%">TAKIM İSTATİSTİKLERİ</a>

                <a href="#" style="width: 22%">OYUNCU İSTATİSTİKLERİ</a>

            </div>
        </div>
    </div>
    <div class="data-area" id="data-area">
        {% for event in events %}
            <div class="event-item">

                {% if event.type == 7 %}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                {% for playertwo in homeSquad %}
                                    {% if playertwo.playerId == event.playerIdIn %}
                                        <p id="home-name">{{ player.playerName }} - {{ playertwo.playerName }}</p>
                                        <img src="{{ STATIC_URL }}images/substitution.png">
                                        <p id="min">{{ event.min }}</p>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                {% for playertwo in awaySquad %}
                                    {% if playertwo.playerId == event.playerIdIn %}
                                        <p id="home-name"></p>
                                        <p id="holder"></p>
                                        <p id="min">{{ event.min }}</p>
                                        <img src="{{ STATIC_URL }}images/substitution.png">
                                        <p id="away-name">{{ player.playerName }} - {{ playertwo.playerName }}</p>
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 0%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/goal.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/goal.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 1%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/own-goal.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/own-goal.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 2%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/penalty.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/penalty.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 3%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/missed-pen.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/missed-pen.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 4%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/yellow.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/yellow.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 5%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/second-yellow.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/second-yellow.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% elif event.type == 6%}
                    {% if event.teamId == homeTeamId %}
                        {% for player in homeSquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name">{{ player.playerName }}</p>
                                <img src="{{ STATIC_URL }}images/red.png">
                                <p id="min">{{ event.min }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                    {% if event.teamId == awayTeamId %}
                        {% for player in awaySquad %}
                            {% if player.playerId == event.playerId%}
                                <p id="home-name"></p>
                                <p id="holder"></p>
                                <p id="min">{{ event.min }}</p>
                                <img src="{{ STATIC_URL }}images/red.png">
                                <p id="away-name">{{ player.playerName }}</p>
                            {% endif %}
                        {% endfor %}
                    {% endif %}
                {% endif %}
            </div>
        {% endfor %}
    </div>


{% endblock %}


